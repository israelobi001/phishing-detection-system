!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ackeeTracker=e()}(function(){return function n(o,i,a){function l(t,e){if(!i[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(s)return s(t,!0);e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}r=i[t]={exports:{}};o[t][0].call(r.exports,function(e){return l(o[t][1][e]||e)},r,r.exports,n,o,i,a)}return i[t].exports}for(var s="function"==typeof require&&require,e=0;e<a.length;e++)l(a[e]);return l}({1:[function(e,a,s){!function(i){!function(){!function(){"use strict";var e={function:!0,object:!0},C=e[typeof window]&&window||this,r=e[typeof s]&&s,e=e[typeof a]&&a&&!a.nodeType&&a,t=r&&e&&"object"==typeof i&&i,l=(!t||t.global!==t&&t.window!==t&&t.self!==t||(C=t),Math.pow(2,53)-1),R=/\bOpera/,t=Object.prototype,n=t.hasOwnProperty,B=t.toString;function o(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function L(e){return e=F(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:o(e)}function W(e,t){for(var r in e)n.call(e,r)&&t(e[r],r,e)}function j(e){return null==e?o(e):B.call(e).slice(8,-1)}function T(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function $(r,n){function e(e,t){o=n(o,e,t,r)}var o=null,t=r,i=-1,a=t?t.length:0;if("number"==typeof a&&-1<a&&a<=l)for(;++i<a;)e(t[i],i);else W(t,e);return o}function F(e){return String(e).replace(/^ +| +$/g,"")}t=function e(i){var t=C,r=i&&"object"==typeof i&&"String"!=j(i),n=(r&&(t=i,i=null),t.navigator||{}),o=n.userAgent||"";i=i||o;var a,l,s,c=r?!!n.likeChrome:/\bChrome\b/.test(i)&&!/internal|\n/i.test(B.toString()),u="Object",p=r?u:"ScriptBridgingProxyObject",d=r?u:"Environment",f=r&&t.java?"JavaPackage":j(t.java),u=r?u:"RuntimeObject",f=/\bJava/.test(f)&&t.java,d=f&&j(t.environment)==d,b=f?"a":"α",h=f?"b":"β",y=t.document||{},g=t.operamini||t.opera,r=R.test(r=r&&g?g["[[Class]]"]:j(g))?r:g=null,m=i,v=[],w=null,o=i==o,x=o&&g&&"function"==typeof g.version&&g.version(),S=$([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,t){return e||RegExp("\\b"+(t.pattern||T(t))+"\\b","i").exec(i)&&(t.label||t)}),O=$(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(e,t){return e||RegExp("\\b"+(t.pattern||T(t))+"\\b","i").exec(i)&&(t.label||t)}),E=k([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),P=$({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}},function(e,t,r){return e||(t[E]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(E)]||RegExp("\\b"+T(r)+"(?:\\b|\\w*\\d)","i").exec(i))&&r}),M=$(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(e,t){var r,n,o=t.pattern||T(t);return!e&&(e=RegExp("\\b"+o+"(?:/[\\d.]+|[ \\w.]*)","i").exec(i))&&(r=e,o=o,t=t.label||t,n={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},o&&t&&/^Win/i.test(r)&&!/^Windows Phone /i.test(r)&&(n=n[/[\d.]+$/.exec(r)])&&(r="Windows "+n),r=String(r),e=L((r=o&&t?r.replace(RegExp(o,"i"),t):r).replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])),e});function k(e){return $(e,function(e,t){var r=t.pattern||T(t);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(i)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(i)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(i))&&((e=String(t.label&&!RegExp(r,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=L(e[0].replace(RegExp(r,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e})}function I(e){return $(e,function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(i)||0)[1]||null})}if(S=S&&[S],/\bAndroid\b/.test(M)&&!E&&(a=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(i))&&(E=F(a[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),P&&!E?E=k([P]):P&&(E=E&&E.replace(RegExp("^("+T(P)+")[-_.\\s]","i"),P+" ").replace(RegExp("^("+T(P)+")[-_.]?(\\w)","i"),P+" $2")),(a=/\bGoogle TV\b/.exec(E))&&(E=a[0]),/\bSimulator\b/i.test(i)&&(E=(E?E+" ":"")+"Simulator"),"Opera Mini"==O&&/\bOPiOS\b/.test(i)&&v.push("running in Turbo/Uncompressed mode"),"IE"==O&&/\blike iPhone OS\b/.test(i)?(P=(a=e(i.replace(/like iPhone OS/,""))).manufacturer,E=a.product):/^iP/.test(E)?(O=O||"Safari",M="iOS"+((a=/ OS ([\d_]+)/i.exec(i))?" "+a[1].replace(/_/g,"."):"")):"Konqueror"==O&&/^Linux\b/i.test(M)?M="Kubuntu":P&&"Google"!=P&&(/Chrome/.test(O)&&!/\bMobile Safari\b/i.test(i)||/\bVita\b/.test(E))||/\bAndroid\b/.test(M)&&/^Chrome/.test(O)&&/\bVersion\//i.test(i)?(O="Android Browser",M=/\bAndroid\b/.test(M)?M:"Android"):"Silk"==O?(/\bMobi/i.test(i)||(M="Android",v.unshift("desktop mode")),/Accelerated *= *true/i.test(i)&&v.unshift("accelerated")):"UC Browser"==O&&/\bUCWEB\b/.test(i)?v.push("speed mode"):"PaleMoon"==O&&(a=/\bFirefox\/([\d.]+)\b/.exec(i))?v.push("identifying as Firefox "+a[1]):"Firefox"==O&&(a=/\b(Mobile|Tablet|TV)\b/i.exec(i))?(M=M||"Firefox OS",E=E||a[1]):!O||(a=!/\bMinefield\b/i.test(i)&&/\b(?:Firefox|Safari)\b/.exec(O))?(O&&!E&&/[\/,]|^[^(]+?\)/.test(i.slice(i.indexOf(a+"/")+8))&&(O=null),(a=E||P||M)&&(E||P||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(M))&&(O=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(M)?M:a)+" Browser")):"Electron"==O&&(a=(/\bChrome\/([\d.]+)\b/.exec(i)||0)[1])&&v.push("Chromium "+a),x=x||I(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",T(O),"(?:Firefox|Minefield|NetFront)"]),(a=("iCab"==S&&3<parseFloat(x)?"WebKit":/\bOpera\b/.test(O)&&(/\bOPR\b/.test(i)?"Blink":"Presto"))||(/\b(?:Midori|Nook|Safari)\b/i.test(i)&&!/^(?:Trident|EdgeHTML)$/.test(S)?"WebKit":!S&&/\bMSIE\b/i.test(i)&&("Mac OS"==M?"Tasman":"Trident"))||"WebKit"==S&&/\bPlayStation\b(?! Vita\b)/i.test(O)&&"NetFront")&&(S=[a]),"IE"==O&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(i)||0)[1])?(O+=" Mobile",M="Windows Phone "+(/\+$/.test(a)?a:a+".x"),v.unshift("desktop mode")):/\bWPDesktop\b/i.test(i)?(O="IE Mobile",M="Windows Phone 8.x",v.unshift("desktop mode"),x=x||(/\brv:([\d.]+)/.exec(i)||0)[1]):"IE"!=O&&"Trident"==S&&(a=/\brv:([\d.]+)/.exec(i))&&(O&&v.push("identifying as "+O+(x?" "+x:"")),O="IE",x=a[1]),o){if(A=null!=(s=t)?typeof s.global:"number",/^(?:boolean|number|string|undefined)$/.test(A)||"object"==A&&!s.global)j(a=t.runtime)==p?(O="Adobe AIR",M=a.flash.system.Capabilities.os):j(a=t.phantom)==u?(O="PhantomJS",x=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):"number"==typeof y.documentMode&&(a=/\bTrident\/(\d+)/i.exec(i))?(x=[x,y.documentMode],(a=+a[1]+4)!=x[1]&&(v.push("IE "+x[1]+" mode"),S&&(S[1]=""),x[1]=a),x="IE"==O?String(x[1].toFixed(1)):x[0]):"number"==typeof y.documentMode&&/^(?:Chrome|Firefox)\b/.test(O)&&(v.push("masking as "+O+" "+x),O="IE",x="11.0",S=["Trident"],M="Windows");else if(f&&(m=(a=f.lang.System).getProperty("os.arch"),M=M||a.getProperty("os.name")+" "+a.getProperty("os.version")),d){try{x=t.require("ringo/engine").version.join("."),O="RingoJS"}catch(e){(a=t.system)&&a.global.system==t.system&&(O="Narwhal",M=M||a[0].os||null)}O=O||"Rhino"}else"object"==typeof t.process&&!t.process.browser&&(a=t.process)&&("object"==typeof a.versions&&("string"==typeof a.versions.electron?(v.push("Node "+a.versions.node),O="Electron",x=a.versions.electron):"string"==typeof a.versions.nw&&(v.push("Chromium "+x,"Node "+a.versions.node),O="NW.js",x=a.versions.nw)),O||(O="Node.js",m=a.arch,M=a.platform,x=(x=/[\d.]+/.exec(a.version))?x[0]:null));M=M&&L(M)}if(x&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(x)||/(?:alpha|beta)(?: ?\d)?/i.exec(i+";"+(o&&n.appMinorVersion))||/\bMinefield\b/i.test(i)&&"a")&&(w=/b/i.test(a)?"beta":"alpha",x=x.replace(RegExp(a+"\\+?$"),"")+("beta"==w?h:b)+(/\d+\+?/.exec(a)||"")),"Fennec"==O||"Firefox"==O&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(M))O="Firefox Mobile";else if("Maxthon"==O&&x)x=x.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(E))"Xbox 360"==E&&(M=null),"Xbox 360"==E&&/\bIEMobile\b/.test(i)&&v.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(O)&&(!O||E||/Browser|Mobi/.test(O))||"Windows CE"!=M&&!/Mobi/i.test(i))if("IE"==O&&o)try{null===t.external&&v.unshift("platform preview")}catch(e){v.unshift("embedded")}else(/\bBlackBerry\b/.test(E)||/\bBB10\b/.test(i))&&(a=(RegExp(E.replace(/ +/g," *")+"/([.\\d]+)","i").exec(i)||0)[1]||x)?(M=((a=[a,/BB10/.test(i)])[1]?(E=null,P="BlackBerry"):"Device Software")+" "+a[0],x=null):this!=W&&"Wii"!=E&&(o&&g||/Opera/.test(O)&&/\b(?:MSIE|Firefox)\b/i.test(i)||"Firefox"==O&&/\bOS X (?:\d+\.){2,}/.test(M)||"IE"==O&&(M&&!/^Win/.test(M)&&5.5<x||/\bWindows XP\b/.test(M)&&8<x||8==x&&!/\bTrident\b/.test(i)))&&!R.test(a=e.call(W,i.replace(R,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),R.test(O)?(/\bIE\b/.test(a)&&"Mac OS"==M&&(M=null),a="identify"+a):(a="mask"+a,O=r?L(r.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(a)&&(M=null),o||(x=null)),S=["Presto"],v.push(a));else O+=" Mobile";(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(i)||0)[1])&&(a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a],"Safari"==O&&"+"==a[1].slice(-1)?(O="WebKit Nightly",w="alpha",x=a[1].slice(0,-1)):x!=a[1]&&x!=(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(i)||0)[1])||(x=null),a[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(i)||0)[1],537.36==a[0]&&537.36==a[2]&&28<=parseFloat(a[1])&&"WebKit"==S&&(S=["Blink"]),a=o&&(c||a[1])?(S&&(S[1]="like Chrome"),a[1]||((a=a[0])<530?1:a<532?2:a<532.05?3:a<533?4:a<534.03?5:a<534.07?6:a<534.1?7:a<534.13?8:a<534.16?9:a<534.24?10:a<534.3?11:a<535.01?12:a<535.02?"13+":a<535.07?15:a<535.11?16:a<535.19?17:a<536.05?18:a<536.1?19:a<537.01?20:a<537.11?"21+":a<537.13?23:a<537.18?24:a<537.24?25:a<537.36?26:"Blink"!=S?"27":"28")):(S&&(S[1]="like Safari"),(a=a[0])<400?1:a<500?2:a<526?3:a<533?4:a<534?"4+":a<535?5:a<537?6:a<538?7:a<601?8:a<602?9:a<604?10:a<606?11:a<608?12:"12"),S&&(S[1]+=" "+(a+="number"==typeof a?".x":/[.+]/.test(a)?"":"+")),"Safari"==O&&(!x||45<parseInt(x))?x=a:"Chrome"==O&&/\bHeadlessChrome/i.test(i)&&v.unshift("headless")),"Opera"==O&&(a=/\bzbov|zvav$/.exec(M))?(O+=" ",v.unshift("desktop mode"),"zvav"==a?(O+="Mini",x=null):O+="Mobile",M=M.replace(RegExp(" *"+a+"$"),"")):"Safari"==O&&/\bChrome\b/.exec(S&&S[1])?(v.unshift("desktop mode"),O="Chrome Mobile",x=null,M=/\bOS X\b/.test(M)?(P="Apple","iOS 4.3+"):null):/\bSRWare Iron\b/.test(O)&&!x&&(x=I("Chrome")),(M=x&&0==x.indexOf(a=/[\d.]+$/.exec(M))&&-1<i.indexOf("/"+a+"-")?F(M.replace(a,"")):M)&&-1!=M.indexOf(O)&&!RegExp(O+" OS").test(M)&&(M=M.replace(RegExp(" *"+T(O)+" *"),"")),S&&!/\b(?:Avant|Nook)\b/.test(O)&&(/Browser|Lunascape|Maxthon/.test(O)||"Safari"!=O&&/^iOS/.test(M)&&/\bSafari\b/.test(S[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(O)&&S[1])&&(a=S[S.length-1])&&v.push(a),v.length&&(v=["("+v.join("; ")+")"]),P&&E&&E.indexOf(P)<0&&v.push("on "+P),E&&v.push((/^on /.test(v[v.length-1])?"":"on ")+E),M&&(a=/ ([\d.+]+)$/.exec(M),l=a&&"/"==M.charAt(M.length-a[0].length-1),M={architecture:32,family:a&&!l?M.replace(a[0],""):M,version:a?a[1]:null,toString:function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(m))&&!/\bi686\b/i.test(m)?(M&&(M.architecture=64,M.family=M.family.replace(RegExp(" *"+a),"")),O&&(/\bWOW64\b/i.test(i)||o&&/\w(?:86|32)$/.test(n.cpuClass||n.platform)&&!/\bWin64; x64\b/i.test(i))&&v.unshift("32-bit")):M&&/^OS X/.test(M.family)&&"Chrome"==O&&39<=parseFloat(x)&&(M.architecture=64),i=i||null;var A={};return A.description=i,A.layout=S&&S[0],A.manufacturer=P,A.name=O,A.prerelease=w,A.product=E,A.ua=i,A.version=O&&x,A.os=M||{architecture:null,family:null,version:null,toString:function(){return"null"}},A.parse=e,A.toString=function(){return this.description||""},A.version&&v.unshift(x),A.name&&v.unshift(O),M&&O&&(M!=String(M).split(" ")[0]||M!=O.split(" ")[0]&&!E)&&v.push(E?"("+M+")":"on "+M),v.length&&(A.description=v.join(" ")),A}();r&&e?W(t,function(e,t){r[t]=e}):C.platform=t}.call(this)}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.detect=r.create=r.attributes=void 0;var a=(e=e("platform"))&&e.__esModule?e:{default:e};function E(){E=function(){return a};var a={},e=Object.prototype,s=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(a){i=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o,i,a,l,t=t&&t.prototype instanceof p?t:p,t=Object.create(t.prototype),n=new w(n||[]);return t._invoke=(o=e,i=r,a=n,l="suspendedStart",function(e,t){if("executing"===l)throw new Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return S()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){r=function e(t,r){var n=t.iterator[r.method];if(void 0===n){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method))return u;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}n=c(n,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,u;n=n.arg;return n?n.done?(r[t.resultName]=n.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,u):n:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,u)}(r,a);if(r){if(r===u)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===l)throw l="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);l="executing";r=c(o,i,a);if("normal"===r.type){if(l=a.done?"completed":"suspendedYield",r.arg===u)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(l="completed",a.method="throw",a.arg=r.arg)}}),t}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}a.wrap=l;var u={};function p(){}function d(){}function f(){}var t={},b=(i(t,n,function(){return this}),Object.getPrototypeOf),b=b&&b(b(x([]))),h=(b&&b!==e&&s.call(b,n)&&(t=b),f.prototype=p.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function g(a,l){var t;this._invoke=function(r,n){function e(){return new l(function(e,t){!function t(e,r,n,o){var i,e=c(a[e],a,r);if("throw"!==e.type)return(r=(i=e.arg).value)&&"object"==O(r)&&s.call(r,"__await")?l.resolve(r.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):l.resolve(r).then(function(e){i.value=e,n(i)},function(e){return t("throw",e,n,o)});o(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}}function m(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function v(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(m,this),this.reset(!0)}function x(t){if(t){var r,e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(e=function e(){for(;++r<t.length;)if(s.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:S}}function S(){return{value:void 0,done:!0}}return i(h,"constructor",d.prototype=f),i(f,"constructor",d),d.displayName=i(f,o,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,o,"GeneratorFunction")),e.prototype=Object.create(h),e},a.awrap=function(e){return{__await:e}},y(g.prototype),i(g.prototype,r,function(){return this}),a.AsyncIterator=g,a.async=function(e,t,r,n,o){void 0===o&&(o=Promise);var i=new g(l(e,t,r,n),o);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(h),i(h,o,"Generator"),i(h,n,function(){return this}),i(h,"toString",function(){return"[object Generator]"}),a.keys=function(r){var e,n=[];for(e in r)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(v),!e)for(var t in this)"t"===t.charAt(0)&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),l=s.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),v(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(r=o.completion).type&&(n=r.arg,v(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},a}function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function l(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){var t,r;t=n,r=o[e=e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function s(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function o(l){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=l.apply(e,a);function o(e){s(n,t,r,o,i,"next",e)}function i(e){s(n,t,r,o,i,"throw",e)}o(void 0)})}}function c(e){return"88888888-8888-8888-8888-888888888888"===e}function u(){return"hidden"===document.visibilityState}function p(e){return{query:"\n\t\t\tmutation updateRecord($recordId: ID!) {\n\t\t\t\tupdateRecord(id: $recordId) {\n\t\t\t\t\tsuccess\n\t\t\t\t}\n\t\t\t}\n\t\t",variables:{recordId:e}}}function d(e,t,r,n){var o=new XMLHttpRequest;o.open("POST",e),o.onload=function(){if(200!==o.status)throw new Error("Server returned with an unhandled status");var e=null;try{e=JSON.parse(o.responseText)}catch(e){throw new Error("Failed to parse response from server")}if(null!=e.errors)throw new Error(e.errors[0].message);if("function"==typeof n)return n(e)},o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.withCredentials=r.ignoreOwnVisits,o.send(JSON.stringify(t))}function n(){var e,t,r=document.querySelector("[data-ackee-domain-id]");null!=r&&(e=r.getAttribute("data-ackee-server")||"",t=r.getAttribute("data-ackee-domain-id"),r=r.getAttribute("data-ackee-opts")||"{}",h(e,JSON.parse(r)).record(t))}var f,e="undefined"!=typeof window,b=(f=o(E().mark(function e(){var r,n,o,i=arguments;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=0<i.length&&void 0!==i[0]&&i[0],n={siteLocation:window.location.href,siteReferrer:document.referrer,source:(t=void 0,""===(t=(location.search.split("source=")[1]||"").split("&")[0])?void 0:t)},e.t0=(navigator.language||navigator.userLanguage).substr(0,2),e.t1=screen.width,e.t2=screen.height,e.t3=screen.colorDepth,e.t4=a.default.product,e.t5=a.default.manufacturer,e.t6=a.default.os.family,e.t7=a.default.os.version,e.t8=a.default.name,e.t9=a.default.version,e.t10=window.outerWidth,e.t11=window.outerHeight,e.next=16,fetch("https://api.ipify.org?format=json");case 16:return e.next=18,e.sent.json();case 18:return e.t12=e.sent.ip,o={siteLanguage:e.t0,screenWidth:e.t1,screenHeight:e.t2,screenColorDepth:e.t3,deviceName:e.t4,deviceManufacturer:e.t5,osName:e.t6,osVersion:e.t7,browserName:e.t8,browserVersion:e.t9,browserWidth:e.t10,browserHeight:e.t11,country:e.t12},e.abrupt("return",l(l({},n),!0===r?o:{}));case 21:case"end":return e.stop()}var t},e)})),function(){return f.apply(this,arguments)}),h=(r.attributes=b,r.detect=n,function(e,l){l=function(e){var e=0<arguments.length&&void 0!==e?e:{},t={};return t.detailed=!0===e.detailed,t.ignoreLocalhost=!1!==e.ignoreLocalhost,t.ignoreOwnVisits=!1!==e.ignoreOwnVisits,t}(l);function t(){}r="/"===(e=e).substr(-1);var r,n,s=e+(!0==r?"":"/")+"api",e={record:function(){return{stop:t}},updateRecord:function(){return{stop:t}},action:t,updateAction:t};return!0===l.ignoreLocalhost&&1==(""===(r=location.hostname)||"localhost"===r||"127.0.0.1"===r||"::1"===r)?(console.warn("Ackee ignores you because you are on localhost"),e):!0===(r=navigator.userAgent,/bot|crawler|spider|crawling/i.test(r))?(console.warn("Ackee ignores you because you are a bot"),e):(n=o(E().mark(function e(t){var r,n,o,i,a=arguments;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=1<a.length&&void 0!==a[1]?a[1]:b(l.detailed),n=2<a.length?a[2]:void 0,o=!1,i=function(){o=!0},e.next=6,b(l.detailed);case 6:return r=e.sent,d(s,{query:"\n\t\t\tmutation createRecord($domainId: ID!, $input: CreateRecordInput!) {\n\t\t\t\tcreateRecord(domainId: $domainId, input: $input) {\n\t\t\t\t\tpayload {\n\t\t\t\t\t\tid\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t",variables:{domainId:t,input:r}},l,function(e){var t,r=e.data.createRecord.payload.id;return!0===c(r)?console.warn("Ackee ignores you because this is your own site"):(t=setInterval(function(){!0!==o?!0!==u()&&d(s,p(r),l):clearInterval(t)},15e3),"function"==typeof n?n(r):void 0)}),e.abrupt("return",{stop:i});case 9:case"end":return e.stop()}},e)})),{record:function(e){return n.apply(this,arguments)},updateRecord:function(e){function t(){n=!0}var r,n=!1;return!0===c(e)?console.warn("Ackee ignores you because this is your own site"):r=setInterval(function(){!0!==n?!0!==u()&&d(s,p(e),l):clearInterval(r)},15e3),{stop:t}},action:function(e,t,r){d(s,{query:"\n\t\t\tmutation createAction($eventId: ID!, $input: CreateActionInput!) {\n\t\t\t\tcreateAction(eventId: $eventId, input: $input) {\n\t\t\t\t\tpayload {\n\t\t\t\t\t\tid\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t",variables:{eventId:e,input:t}},l,function(e){e=e.data.createAction.payload.id;return!0===c(e)?console.warn("Ackee ignores you because this is your own site"):"function"==typeof r?r(e):void 0})},updateAction:function(e,t){if(!0===c(e))return console.warn("Ackee ignores you because this is your own site");d(s,{query:"\n\t\t\tmutation updateAction($actionId: ID!, $input: UpdateActionInput!) {\n\t\t\t\tupdateAction(id: $actionId, input: $input) {\n\t\t\t\t\tsuccess\n\t\t\t\t}\n\t\t\t}\n\t\t",variables:{actionId:e,input:t}},l)}})});r.create=h,!0==e&&n()},{platform:1}]},{},[2])(2)});